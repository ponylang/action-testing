



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://ponylang.github.io/action-testing/http-Payload/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/logo.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-ponylang-0.2.7">
    
    
      
        <title>class Payload - http</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.b80b25f7.css">
      
    
    
      <script src="../assets/javascripts/modernizr.0b5df86e.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#payload" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
          <a href="https://ponylang.github.io/action-testing/" title="http" class="md-header-nav__button md-logo">
          
            <img src="../assets/images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                http
              </span>
              <span class="md-header-nav__topic">
                class Payload
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../assets/images/logo.png" width="48" height="48">
      
    </span>
    http
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="http" class="md-nav__link">
      http
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      package http
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        package http
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../http--index/" title="Package" class="md-nav__link">
      Package
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-URLPartUser/" title="primitive URLPartUser" class="md-nav__link">
      primitive URLPartUser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-URLPartPassword/" title="primitive URLPartPassword" class="md-nav__link">
      primitive URLPartPassword
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-URLPartHost/" title="primitive URLPartHost" class="md-nav__link">
      primitive URLPartHost
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-URLPartPath/" title="primitive URLPartPath" class="md-nav__link">
      primitive URLPartPath
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-URLPartQuery/" title="primitive URLPartQuery" class="md-nav__link">
      primitive URLPartQuery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-URLPartFragment/" title="primitive URLPartFragment" class="md-nav__link">
      primitive URLPartFragment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-URLPart/" title="type URLPart" class="md-nav__link">
      type URLPart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-URLEncode/" title="primitive URLEncode" class="md-nav__link">
      primitive URLEncode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-URL/" title="class URL" class="md-nav__link">
      class URL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-Status/" title="trait Status" class="md-nav__link">
      trait Status
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusContinue/" title="primitive StatusContinue" class="md-nav__link">
      primitive StatusContinue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusSwitchingProtocols/" title="primitive StatusSwitchingProtocols" class="md-nav__link">
      primitive StatusSwitchingProtocols
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusOK/" title="primitive StatusOK" class="md-nav__link">
      primitive StatusOK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusCreated/" title="primitive StatusCreated" class="md-nav__link">
      primitive StatusCreated
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusAccepted/" title="primitive StatusAccepted" class="md-nav__link">
      primitive StatusAccepted
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusNonAuthoritativeInfo/" title="primitive StatusNonAuthoritativeInfo" class="md-nav__link">
      primitive StatusNonAuthoritativeInfo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusNoContent/" title="primitive StatusNoContent" class="md-nav__link">
      primitive StatusNoContent
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusResetContent/" title="primitive StatusResetContent" class="md-nav__link">
      primitive StatusResetContent
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusPartialContent/" title="primitive StatusPartialContent" class="md-nav__link">
      primitive StatusPartialContent
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusMultipleChoices/" title="primitive StatusMultipleChoices" class="md-nav__link">
      primitive StatusMultipleChoices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusMovedPermanently/" title="primitive StatusMovedPermanently" class="md-nav__link">
      primitive StatusMovedPermanently
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusFound/" title="primitive StatusFound" class="md-nav__link">
      primitive StatusFound
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusSeeOther/" title="primitive StatusSeeOther" class="md-nav__link">
      primitive StatusSeeOther
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusNotModified/" title="primitive StatusNotModified" class="md-nav__link">
      primitive StatusNotModified
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusUseProxy/" title="primitive StatusUseProxy" class="md-nav__link">
      primitive StatusUseProxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusTemporaryRedirect/" title="primitive StatusTemporaryRedirect" class="md-nav__link">
      primitive StatusTemporaryRedirect
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusBadRequest/" title="primitive StatusBadRequest" class="md-nav__link">
      primitive StatusBadRequest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusUnauthorized/" title="primitive StatusUnauthorized" class="md-nav__link">
      primitive StatusUnauthorized
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusPaymentRequired/" title="primitive StatusPaymentRequired" class="md-nav__link">
      primitive StatusPaymentRequired
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusForbidden/" title="primitive StatusForbidden" class="md-nav__link">
      primitive StatusForbidden
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusNotFound/" title="primitive StatusNotFound" class="md-nav__link">
      primitive StatusNotFound
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusMethodNotAllowed/" title="primitive StatusMethodNotAllowed" class="md-nav__link">
      primitive StatusMethodNotAllowed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusNotAcceptable/" title="primitive StatusNotAcceptable" class="md-nav__link">
      primitive StatusNotAcceptable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusProxyAuthRequired/" title="primitive StatusProxyAuthRequired" class="md-nav__link">
      primitive StatusProxyAuthRequired
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusRequestTimeout/" title="primitive StatusRequestTimeout" class="md-nav__link">
      primitive StatusRequestTimeout
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusConflict/" title="primitive StatusConflict" class="md-nav__link">
      primitive StatusConflict
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusGone/" title="primitive StatusGone" class="md-nav__link">
      primitive StatusGone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusLengthRequired/" title="primitive StatusLengthRequired" class="md-nav__link">
      primitive StatusLengthRequired
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusPreconditionFailed/" title="primitive StatusPreconditionFailed" class="md-nav__link">
      primitive StatusPreconditionFailed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusRequestEntityTooLarge/" title="primitive StatusRequestEntityTooLarge" class="md-nav__link">
      primitive StatusRequestEntityTooLarge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusRequestURITooLong/" title="primitive StatusRequestURITooLong" class="md-nav__link">
      primitive StatusRequestURITooLong
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusUnsupportedMediaType/" title="primitive StatusUnsupportedMediaType" class="md-nav__link">
      primitive StatusUnsupportedMediaType
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusRequestedRangeNotSatisfiable/" title="primitive StatusRequestedRangeNotSatisfiable" class="md-nav__link">
      primitive StatusRequestedRangeNotSatisfiable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusExpectationFailed/" title="primitive StatusExpectationFailed" class="md-nav__link">
      primitive StatusExpectationFailed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusTeapot/" title="primitive StatusTeapot" class="md-nav__link">
      primitive StatusTeapot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusPreconditionRequired/" title="primitive StatusPreconditionRequired" class="md-nav__link">
      primitive StatusPreconditionRequired
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusTooManyRequests/" title="primitive StatusTooManyRequests" class="md-nav__link">
      primitive StatusTooManyRequests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusRequestHeaderFieldsTooLarge/" title="primitive StatusRequestHeaderFieldsTooLarge" class="md-nav__link">
      primitive StatusRequestHeaderFieldsTooLarge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusUnavailableForLegalReasons/" title="primitive StatusUnavailableForLegalReasons" class="md-nav__link">
      primitive StatusUnavailableForLegalReasons
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusInternalServerError/" title="primitive StatusInternalServerError" class="md-nav__link">
      primitive StatusInternalServerError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusNotImplemented/" title="primitive StatusNotImplemented" class="md-nav__link">
      primitive StatusNotImplemented
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusBadGateway/" title="primitive StatusBadGateway" class="md-nav__link">
      primitive StatusBadGateway
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusServiceUnavailable/" title="primitive StatusServiceUnavailable" class="md-nav__link">
      primitive StatusServiceUnavailable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusGatewayTimeout/" title="primitive StatusGatewayTimeout" class="md-nav__link">
      primitive StatusGatewayTimeout
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusHTTPVersionNotSupported/" title="primitive StatusHTTPVersionNotSupported" class="md-nav__link">
      primitive StatusHTTPVersionNotSupported
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StatusNetworkAuthenticationRequired/" title="primitive StatusNetworkAuthenticationRequired" class="md-nav__link">
      primitive StatusNetworkAuthenticationRequired
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-Logger/" title="interface Logger" class="md-nav__link">
      interface Logger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-ServerNotify/" title="interface ServerNotify" class="md-nav__link">
      interface ServerNotify
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-HTTPServer/" title="actor HTTPServer" class="md-nav__link">
      actor HTTPServer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-ChunkedTransfer/" title="primitive ChunkedTransfer" class="md-nav__link">
      primitive ChunkedTransfer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-StreamTransfer/" title="primitive StreamTransfer" class="md-nav__link">
      primitive StreamTransfer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-OneshotTransfer/" title="primitive OneshotTransfer" class="md-nav__link">
      primitive OneshotTransfer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-TransferMode/" title="type TransferMode" class="md-nav__link">
      type TransferMode
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        class Payload
      </label>
    
    <a href="./" title="class Payload" class="md-nav__link md-nav__link--active">
      class Payload
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        
          <li class="md-nav__item">
    <a href="#transfer-modes" title="Transfer Modes" class="md-nav__link">
    Transfer Modes
  </a>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#sequence" title="Sequence" class="md-nav__link">
    Sequence
  </a>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#constructors" title="Constructors" class="md-nav__link">
    Constructors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#request" title="request" class="md-nav__link">
    request
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#response" title="response" class="md-nav__link">
    response
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#public-fields" title="Public fields" class="md-nav__link">
    Public fields
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#var-proto-string-val" title="var proto: String val" class="md-nav__link">
    var proto: String val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-status-u16-val" title="var status: U16 val" class="md-nav__link">
    var status: U16 val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-method-string-val" title="var method: String val" class="md-nav__link">
    var method: String val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-url-url-val" title="var url: URL val" class="md-nav__link">
    var url: URL val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-transfer_mode-chunkedtransfer-val-streamtransfer-val-oneshottransfer-val" title="var transfer_mode: (ChunkedTransfer val | StreamTransfer val | OneshotTransfer val)" class="md-nav__link">
    var transfer_mode: (ChunkedTransfer val | StreamTransfer val | OneshotTransfer val)
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-session-httpsession-tag-none-val" title="var session: (HTTPSession tag | None val)" class="md-nav__link">
    var session: (HTTPSession tag | None val)
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-username-string-val" title="var username: String val" class="md-nav__link">
    var username: String val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-password-string-val" title="var password: String val" class="md-nav__link">
    var password: String val
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#public-functions" title="Public Functions" class="md-nav__link">
    Public Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#apply" title="apply" class="md-nav__link">
    apply
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#is_safe" title="is_safe" class="md-nav__link">
    is_safe
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#body" title="body" class="md-nav__link">
    body
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#set_length" title="set_length" class="md-nav__link">
    set_length
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#update" title="update" class="md-nav__link">
    update
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#headers" title="headers" class="md-nav__link">
    headers
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#body_size" title="body_size" class="md-nav__link">
    body_size
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#add_chunk" title="add_chunk" class="md-nav__link">
    add_chunk
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#send_chunk" title="send_chunk" class="md-nav__link">
    send_chunk
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#finish" title="finish" class="md-nav__link">
    finish
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#respond" title="respond" class="md-nav__link">
    respond
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#has_body" title="has_body" class="md-nav__link">
    has_body
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-MimeTypes/" title="primitive MimeTypes" class="md-nav__link">
      primitive MimeTypes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-HTTPSession/" title="interface HTTPSession" class="md-nav__link">
      interface HTTPSession
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-ParseError/" title="primitive ParseError" class="md-nav__link">
      primitive ParseError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-HTTPParser/" title="class HTTPParser" class="md-nav__link">
      class HTTPParser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-AuthFailed/" title="primitive AuthFailed" class="md-nav__link">
      primitive AuthFailed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-ConnectionClosed/" title="primitive ConnectionClosed" class="md-nav__link">
      primitive ConnectionClosed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-ConnectFailed/" title="primitive ConnectFailed" class="md-nav__link">
      primitive ConnectFailed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-HTTPFailureReason/" title="type HTTPFailureReason" class="md-nav__link">
      type HTTPFailureReason
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-HTTPHandler/" title="interface HTTPHandler" class="md-nav__link">
      interface HTTPHandler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-HandlerFactory/" title="interface HandlerFactory" class="md-nav__link">
      interface HandlerFactory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-DiscardLog/" title="primitive DiscardLog" class="md-nav__link">
      primitive DiscardLog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-ContentsLog/" title="class ContentsLog" class="md-nav__link">
      class ContentsLog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-CommonLog/" title="class CommonLog" class="md-nav__link">
      class CommonLog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-HTTPClient/" title="class HTTPClient" class="md-nav__link">
      class HTTPClient
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        
          <li class="md-nav__item">
    <a href="#transfer-modes" title="Transfer Modes" class="md-nav__link">
    Transfer Modes
  </a>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#sequence" title="Sequence" class="md-nav__link">
    Sequence
  </a>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#constructors" title="Constructors" class="md-nav__link">
    Constructors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#request" title="request" class="md-nav__link">
    request
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#response" title="response" class="md-nav__link">
    response
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#public-fields" title="Public fields" class="md-nav__link">
    Public fields
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#var-proto-string-val" title="var proto: String val" class="md-nav__link">
    var proto: String val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-status-u16-val" title="var status: U16 val" class="md-nav__link">
    var status: U16 val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-method-string-val" title="var method: String val" class="md-nav__link">
    var method: String val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-url-url-val" title="var url: URL val" class="md-nav__link">
    var url: URL val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-transfer_mode-chunkedtransfer-val-streamtransfer-val-oneshottransfer-val" title="var transfer_mode: (ChunkedTransfer val | StreamTransfer val | OneshotTransfer val)" class="md-nav__link">
    var transfer_mode: (ChunkedTransfer val | StreamTransfer val | OneshotTransfer val)
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-session-httpsession-tag-none-val" title="var session: (HTTPSession tag | None val)" class="md-nav__link">
    var session: (HTTPSession tag | None val)
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-username-string-val" title="var username: String val" class="md-nav__link">
    var username: String val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#var-password-string-val" title="var password: String val" class="md-nav__link">
    var password: String val
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#public-functions" title="Public Functions" class="md-nav__link">
    Public Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#apply" title="apply" class="md-nav__link">
    apply
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#is_safe" title="is_safe" class="md-nav__link">
    is_safe
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#body" title="body" class="md-nav__link">
    body
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#set_length" title="set_length" class="md-nav__link">
    set_length
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#update" title="update" class="md-nav__link">
    update
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#headers" title="headers" class="md-nav__link">
    headers
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#body_size" title="body_size" class="md-nav__link">
    body_size
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#add_chunk" title="add_chunk" class="md-nav__link">
    add_chunk
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#send_chunk" title="send_chunk" class="md-nav__link">
    send_chunk
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#finish" title="finish" class="md-nav__link">
    finish
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#respond" title="respond" class="md-nav__link">
    respond
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#has_body" title="has_body" class="md-nav__link">
    has_body
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="payload">Payload<a class="headerlink" href="#payload" title="Permanent link">&para;</a></h1>
<p><span class="source-link"><a href="../src/http/payload/#L11">[Source]</a></span></p>
<p>This class represent a single HTTP message, which can be either a
<code>request</code> or a <code>response</code>.</p>
<h3 id="transfer-modes">Transfer Modes<a class="headerlink" href="#transfer-modes" title="Permanent link">&para;</a></h3>
<p>HTTP provides two ways to encode the transmission of a message 'body',
of any size. This package supports both of them:</p>
<ol>
<li>
<p><strong>StreamTransfer</strong>. This is used for payload bodies where the exact
  length is known in advance, including most transfers of files. It is
  selected by calling <code>Payload.set_length</code> with an integer bytecount.
  Appication buffer sizes determine how much data is fed to the TCP
  connection at once, but the total amount must match this size.</p>
</li>
<li>
<p><strong>ChunkedTransfer</strong>. This is used when the payload length can not be
  known in advance, but can be large. It is selected by calling
  <code>Payload.set_length</code> with a parameter of <code>None</code>. On the TCP link this mode
  can be detected because there is no <code>Content-Length</code> header at all, being
  replaced by the <code>Transfer-Encoding: chunked</code> header. In addition, the
  message body is separated into chunks, each with its own bytecount. As with
  <code>StreamTransfer</code> mode, transmission can be spread out over time with the
  difference that it is the original data source that determines the chunk
  size.</p>
</li>
</ol>
<p>If <code>Payload.set_length</code> is never called at all, a variation on
  <code>StreamTransfer</code> called <code>OneshotTransfer</code> is used. In this case, all of
  the message body is placed into the message at once, using
  <code>Payload.add_chunk</code> calls. The size will be determined when the message is
  submitted for transmission. Care must be taken not to consume too much
  memory, especially on a server where there can be multiple messages in
  transit at once.</p>
<p>The type of transfer being used by an incoming message can be determined
  from its <code>transfer_mode</code> field, which will be one of the
  <a href="http-TransferMode">TransferMode</a> types.</p>
<h3 id="sequence">Sequence<a class="headerlink" href="#sequence" title="Permanent link">&para;</a></h3>
<p>For example, to send a message of possibly large size:</p>
<ol>
<li>Create the message with a call to <code>Payload.request</code> or <code>Payload.response</code>.</li>
<li>Set the <code>session</code> field of the message.</li>
<li>Call <code>Payload.set_length</code> to indicate the length of the body.</li>
<li>Add any additional headers that may be required, such as <code>Content-type</code>.</li>
<li>Submit the message for transmission by calling the either the
<code>HTTPSession.apply</code> method (in servers) or the <code>HTTPCLient.apply</code> method
in clients.</li>
<li>Wait for the <code>send_body</code> notification.</li>
<li>Make any number of calls to <code>Payload.send_chunk</code>.</li>
<li>Call <code>Payload.finish</code>.</li>
</ol>
<p>To send a message of small, reasonable size (say, under 20KB), this
simplified method can be used instead:</p>
<ol>
<li>Create the message with a call to <code>Payload.request</code> or <code>Payload.response</code>.</li>
<li>Set the <code>session</code> field of the message.</li>
<li>Add any additional headers that may be required, such as <code>Content-type</code>.</li>
<li>Call <code>add_chunk</code> one or more times to add body data.</li>
<li>Submit the message for transmission by calling the either the
<a href="http-HTTPSession">HTTPSession</a><code>.apply</code> method (in servers) or the
<a href="http-HTTPClient">HTTPClient</a><code>.apply</code> method in clients.</li>
</ol>
<pre><code class="language-pony">class trn Payload
</code></pre>
<h2 id="constructors">Constructors<a class="headerlink" href="#constructors" title="Permanent link">&para;</a></h2>
<h3 id="request">request<a class="headerlink" href="#request" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L136">[Source]</a></span></p>
<p>Create an HTTP <code>request</code> message.</p>
<pre><code class="language-pony">new iso request(
  method': String val = &quot;GET&quot;,
  url': URL val = reference)
: Payload iso^
</code></pre>
<h4 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h4>
<ul>
<li>method': <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val = "GET"</li>
<li>url': <a href="../http-URL/">URL</a> val = reference</li>
</ul>
<h4 id="returns">Returns<a class="headerlink" href="#returns" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="./">Payload</a> iso^</li>
</ul>
<hr />
<h3 id="response">response<a class="headerlink" href="#response" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L145">[Source]</a></span></p>
<p>Create an HTTP <code>response</code> message.</p>
<pre><code class="language-pony">new iso response(
  status': Status val = reference)
: Payload iso^
</code></pre>
<h4 id="parameters_1">Parameters<a class="headerlink" href="#parameters_1" title="Permanent link">&para;</a></h4>
<ul>
<li>status': <a href="../http-Status/">Status</a> val = reference</li>
</ul>
<h4 id="returns_1">Returns<a class="headerlink" href="#returns_1" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="./">Payload</a> iso^</li>
</ul>
<hr />
<h2 id="public-fields">Public fields<a class="headerlink" href="#public-fields" title="Permanent link">&para;</a></h2>
<h3 id="var-proto-string-val">var proto: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val<a class="headerlink" href="#var-proto-string-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L75">[Source]</a></span></p>
<p>The HTTP protocol string</p>
<hr />
<h3 id="var-status-u16-val">var status: <a href="https://stdlib.ponylang.io/builtin-U16/">U16</a> val<a class="headerlink" href="#var-status-u16-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L78">[Source]</a></span></p>
<p>Internal representation of the response <a href="http-Status">Status</a>.</p>
<p>Will be <code>0</code> for HTTP requests.</p>
<hr />
<h3 id="var-method-string-val">var method: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val<a class="headerlink" href="#var-method-string-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L85">[Source]</a></span></p>
<p>The HTTP Method.</p>
<p><code>GET</code>, <code>POST</code>, <code>DELETE</code>, <code>OPTIONS</code>, ...</p>
<p>For HTTP responses this will be the status string,
for a <code>200</code> status this will be <code>200 OK</code>, for <code>404</code>, <code>404 Not Found</code> etc..</p>
<hr />
<h3 id="var-url-url-val">var url: <a href="../http-URL/">URL</a> val<a class="headerlink" href="#var-url-url-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L95">[Source]</a></span></p>
<p>The HTTP request <a href="http-URL">URL</a>.
It will be used for the HTTP path and the <code>Host</code> header.
The <code>user</code> and <code>password</code> fields are ignored.</p>
<p>For HTTP responses this will be an empty <a href="http-URL">URL</a>.</p>
<hr />
<h3 id="var-transfer_mode-chunkedtransfer-val-streamtransfer-val-oneshottransfer-val">var transfer_mode: (<a href="../http-ChunkedTransfer/">ChunkedTransfer</a> val | <a href="../http-StreamTransfer/">StreamTransfer</a> val | <a href="../http-OneshotTransfer/">OneshotTransfer</a> val)<a class="headerlink" href="#var-transfer_mode-chunkedtransfer-val-streamtransfer-val-oneshottransfer-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L104">[Source]</a></span></p>
<p>Determines the transfer mode of this message.</p>
<p>In case of outgoing requests or responses,
use <code>set_length</code> to control the transfer mode.</p>
<p>In case of incoming requests, this field determines
how the request is transferred.</p>
<hr />
<h3 id="var-session-httpsession-tag-none-val">var session: (<a href="../http-HTTPSession/">HTTPSession</a> tag | <a href="https://stdlib.ponylang.io/builtin-None/">None</a> val)<a class="headerlink" href="#var-session-httpsession-tag-none-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L114">[Source]</a></span></p>
<hr />
<h3 id="var-username-string-val">var username: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val<a class="headerlink" href="#var-username-string-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L119">[Source]</a></span></p>
<p>The username extracted from an <code>Authentication</code> header of an HTTP request
received via <a href="http-HTTPServer">HTTPServer</a>.</p>
<p>This is not used and not sent using <a href="http-HTTPClient">HTTPClient</a>,
use <code>update</code> to set an <code>Authentication</code> header instead.</p>
<hr />
<h3 id="var-password-string-val">var password: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val<a class="headerlink" href="#var-password-string-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L127">[Source]</a></span></p>
<p>The password extracted from an <code>Authentication</code> header of an HTTP request
received via <a href="http-HTTPServer">HTTPServer</a>.</p>
<p>This is not used and not sent using <a href="http-HTTPClient">HTTPClient</a>,
use <code>update</code> to set an <code>Authentication</code> header instead.</p>
<hr />
<h2 id="public-functions">Public Functions<a class="headerlink" href="#public-functions" title="Permanent link">&para;</a></h2>
<h3 id="apply">apply<a class="headerlink" href="#apply" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L163">[Source]</a></span></p>
<p>Get a header.</p>
<pre><code class="language-pony">fun box apply(
  key: String val)
: String val ?
</code></pre>
<h4 id="parameters_2">Parameters<a class="headerlink" href="#parameters_2" title="Permanent link">&para;</a></h4>
<ul>
<li>key: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val</li>
</ul>
<h4 id="returns_2">Returns<a class="headerlink" href="#returns_2" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-String/">String</a> val ?</li>
</ul>
<hr />
<h3 id="is_safe">is_safe<a class="headerlink" href="#is_safe" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L169">[Source]</a></span></p>
<p>A request method is "safe" if it does not modify state in the resource.
These methods can be guaranteed not to have any body data.
Return true for a safe request method, false otherwise.</p>
<pre><code class="language-pony">fun box is_safe()
: Bool val
</code></pre>
<h4 id="returns_3">Returns<a class="headerlink" href="#returns_3" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-Bool/">Bool</a> val</li>
</ul>
<hr />
<h3 id="body">body<a class="headerlink" href="#body" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L184">[Source]</a></span></p>
<p>Get the body in <code>OneshotTransfer</code> mode.
In the other modes it raises an error.</p>
<pre><code class="language-pony">fun box body()
: this-&gt;Array[(String val | Array[U8 val] val)] ref ?
</code></pre>
<h4 id="returns_4">Returns<a class="headerlink" href="#returns_4" title="Permanent link">&para;</a></h4>
<ul>
<li>this-&gt;<a href="https://stdlib.ponylang.io/builtin-Array/">Array</a>[(<a href="https://stdlib.ponylang.io/builtin-String/">String</a> val | <a href="https://stdlib.ponylang.io/builtin-Array/">Array</a>[<a href="https://stdlib.ponylang.io/builtin-U8/">U8</a> val] val)] ref ?</li>
</ul>
<hr />
<h3 id="set_length">set_length<a class="headerlink" href="#set_length" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L194">[Source]</a></span></p>
<p>Set the body length when known in advance. This determines the
transfer mode that will be used. A parameter of 'None' will use
Chunked Transfer Encoding. A numeric value will use Streamed
transfer. Not calling this function at all will
use Oneshot transfer.</p>
<pre><code class="language-pony">fun ref set_length(
  bytecount: (USize val | None val))
: None val
</code></pre>
<h4 id="parameters_3">Parameters<a class="headerlink" href="#parameters_3" title="Permanent link">&para;</a></h4>
<ul>
<li>bytecount: (<a href="https://stdlib.ponylang.io/builtin-USize/">USize</a> val | <a href="https://stdlib.ponylang.io/builtin-None/">None</a> val)</li>
</ul>
<h4 id="returns_5">Returns<a class="headerlink" href="#returns_5" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="update">update<a class="headerlink" href="#update" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L214">[Source]</a></span></p>
<p>Set any header. If we've already received the header, append the value as a
comma separated list, as per RFC 2616 section 4.2.</p>
<pre><code class="language-pony">fun ref update(
  key: String val,
  value: String val)
: Payload ref^
</code></pre>
<h4 id="parameters_4">Parameters<a class="headerlink" href="#parameters_4" title="Permanent link">&para;</a></h4>
<ul>
<li>key: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val</li>
<li>value: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val</li>
</ul>
<h4 id="returns_6">Returns<a class="headerlink" href="#returns_6" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="./">Payload</a> ref^</li>
</ul>
<hr />
<h3 id="headers">headers<a class="headerlink" href="#headers" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L225">[Source]</a></span></p>
<p>Get all the headers.</p>
<pre><code class="language-pony">fun box headers()
: this-&gt;HashMap[String val, String val, HashEq[String val] val] ref
</code></pre>
<h4 id="returns_7">Returns<a class="headerlink" href="#returns_7" title="Permanent link">&para;</a></h4>
<ul>
<li>this-&gt;<a href="https://stdlib.ponylang.io/collections-HashMap/">HashMap</a>[<a href="https://stdlib.ponylang.io/builtin-String/">String</a> val, <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val, <a href="https://stdlib.ponylang.io/collections-HashEq/">HashEq</a>[<a href="https://stdlib.ponylang.io/builtin-String/">String</a> val] val] ref</li>
</ul>
<hr />
<h3 id="body_size">body_size<a class="headerlink" href="#body_size" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L231">[Source]</a></span></p>
<p>Get the total intended size of the body.
<code>ServerConnection</code> accumulates actual size transferred for logging.</p>
<pre><code class="language-pony">fun box body_size()
: (USize val | None val)
</code></pre>
<h4 id="returns_8">Returns<a class="headerlink" href="#returns_8" title="Permanent link">&para;</a></h4>
<ul>
<li>(<a href="https://stdlib.ponylang.io/builtin-USize/">USize</a> val | <a href="https://stdlib.ponylang.io/builtin-None/">None</a> val)</li>
</ul>
<hr />
<h3 id="add_chunk">add_chunk<a class="headerlink" href="#add_chunk" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L241">[Source]</a></span></p>
<p>This is how application code adds data to the body in
<code>OneshotTransfer</code> mode. For large bodies, call <code>set_length</code>
and use <code>send_chunk</code> instead.</p>
<pre><code class="language-pony">fun ref add_chunk(
  data: (String val | Array[U8 val] val))
: Payload ref^
</code></pre>
<h4 id="parameters_5">Parameters<a class="headerlink" href="#parameters_5" title="Permanent link">&para;</a></h4>
<ul>
<li>data: (<a href="https://stdlib.ponylang.io/builtin-String/">String</a> val | <a href="https://stdlib.ponylang.io/builtin-Array/">Array</a>[<a href="https://stdlib.ponylang.io/builtin-U8/">U8</a> val] val)</li>
</ul>
<h4 id="returns_9">Returns<a class="headerlink" href="#returns_9" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="./">Payload</a> ref^</li>
</ul>
<hr />
<h3 id="send_chunk">send_chunk<a class="headerlink" href="#send_chunk" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L252">[Source]</a></span></p>
<p>This is how application code sends body data in <code>StreamTransfer</code> and
<code>ChunkedTransfer</code> modes. For smaller body lengths, <code>add_chunk</code> in
<code>Oneshot</code> mode can be used instead.</p>
<pre><code class="language-pony">fun box send_chunk(
  data: (String val | Array[U8 val] val))
: None val
</code></pre>
<h4 id="parameters_6">Parameters<a class="headerlink" href="#parameters_6" title="Permanent link">&para;</a></h4>
<ul>
<li>data: (<a href="https://stdlib.ponylang.io/builtin-String/">String</a> val | <a href="https://stdlib.ponylang.io/builtin-Array/">Array</a>[<a href="https://stdlib.ponylang.io/builtin-U8/">U8</a> val] val)</li>
</ul>
<h4 id="returns_10">Returns<a class="headerlink" href="#returns_10" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="finish">finish<a class="headerlink" href="#finish" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L277">[Source]</a></span></p>
<p>Mark the end of body transmission. This does not do anything,
and is unnecessary, in Oneshot mode.</p>
<pre><code class="language-pony">fun val finish()
: None val
</code></pre>
<h4 id="returns_11">Returns<a class="headerlink" href="#returns_11" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="respond">respond<a class="headerlink" href="#respond" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L293">[Source]</a></span></p>
<p>Start sending a response from the server to the client.</p>
<pre><code class="language-pony">fun val respond(
  response': Payload trn)
: None val
</code></pre>
<h4 id="parameters_7">Parameters<a class="headerlink" href="#parameters_7" title="Permanent link">&para;</a></h4>
<ul>
<li>response': <a href="./">Payload</a> trn</li>
</ul>
<h4 id="returns_12">Returns<a class="headerlink" href="#returns_12" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="has_body">has_body<a class="headerlink" href="#has_body" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/http/payload/#L411">[Source]</a></span></p>
<p>Determines whether a message has a body portion.</p>
<pre><code class="language-pony">fun box has_body()
: Bool val
</code></pre>
<h4 id="returns_13">Returns<a class="headerlink" href="#returns_13" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-Bool/">Bool</a> val</li>
</ul>
<hr />
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../http-TransferMode/" title="type TransferMode" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                type TransferMode
              </span>
            </div>
          </a>
        
        
          <a href="../http-MimeTypes/" title="primitive MimeTypes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                primitive MimeTypes
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
    <script src="../assets/javascripts/application.cb37bb38.js"></script>
      
      <script>app.initialize({version:"1.1.2",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>